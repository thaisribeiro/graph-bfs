'use strict';var cov_masqz56nb=function(){var path="/home/thais/Documentos/graph-bfs/src/services/GraphService.js",hash="ff556c2ae91faad5e34ae1b338fd89d7ba74bdf8",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/thais/Documentos/graph-bfs/src/services/GraphService.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:75}},"1":{start:{line:1,column:94},end:{line:1,column:130}},"2":{start:{line:1,column:151},end:{line:1,column:187}},"3":{start:{line:1,column:220},end:{line:1,column:276}},"4":{start:{line:1,column:309},end:{line:1,column:358}},"5":{start:{line:1,column:381},end:{line:1,column:427}},"6":{start:{line:1,column:450},end:{line:1,column:489}},"7":{start:{line:1,column:515},end:{line:1,column:564}},"8":{start:{line:1,column:590},end:{line:1,column:632}},"9":{start:{line:1,column:656},end:{line:1,column:703}},"10":{start:{line:1,column:727},end:{line:1,column:767}},"11":{start:{line:1,column:788},end:{line:1,column:832}},"12":{start:{line:1,column:853},end:{line:1,column:890}},"13":{start:{line:2,column:10},end:{line:2,column:23}},"14":{start:{line:2,column:35},end:{line:2,column:62}},"15":{start:{line:3,column:13},end:{line:3,column:41}},"16":{start:{line:3,column:56},end:{line:3,column:86}},"17":{start:{line:4,column:24},end:{line:4,column:61}},"18":{start:{line:4,column:87},end:{line:4,column:128}},"19":{start:{line:5,column:19},end:{line:5,column:53}},"20":{start:{line:5,column:74},end:{line:5,column:110}},"21":{start:{line:6,column:14},end:{line:6,column:41}},"22":{start:{line:6,column:56},end:{line:6,column:87}},"23":{start:{line:6,column:126},end:{line:6,column:180}},"24":{start:{line:10,column:15},end:{line:46,column:238}},"25":{start:{line:15,column:33},end:{line:15,column:83}},"26":{start:{line:16,column:4},end:{line:16,column:89}},"27":{start:{line:25,column:7},end:{line:46,column:215}},"28":{start:{line:25,column:94},end:{line:46,column:131}},"29":{start:{line:26,column:106},end:{line:46,column:128}},"30":{start:{line:26,column:169},end:{line:46,column:99}},"31":{start:{line:26,column:180},end:{line:46,column:98}},"32":{start:{line:26,column:227},end:{line:26,column:245}},"33":{start:{line:28,column:16},end:{line:28,column:46}},"34":{start:{line:29,column:16},end:{line:29,column:76}},"35":{start:{line:30,column:16},end:{line:30,column:44}},"36":{start:{line:32,column:16},end:{line:32,column:77}},"37":{start:{line:32,column:59},end:{line:32,column:74}},"38":{start:{line:34,column:16},end:{line:34,column:74}},"39":{start:{line:34,column:45},end:{line:34,column:71}},"40":{start:{line:36,column:16},end:{line:36,column:104}},"41":{start:{line:36,column:54},end:{line:36,column:101}},"42":{start:{line:38,column:16},end:{line:38,column:44}},"43":{start:{line:38,column:44},end:{line:39,column:47}},"44":{start:{line:39,column:47},end:{line:39,column:66}},"45":{start:{line:39,column:66},end:{line:40,column:84}},"46":{start:{line:40,column:92},end:{line:40,column:114}},"47":{start:{line:40,column:114},end:{line:40,column:177}},"48":{start:{line:42,column:16},end:{line:43,column:99}},"49":{start:{line:43,column:99},end:{line:43,column:118}},"50":{start:{line:43,column:118},end:{line:43,column:124}},"51":{start:{line:43,column:132},end:{line:43,column:151}},"52":{start:{line:43,column:151},end:{line:43,column:186}},"53":{start:{line:46,column:16},end:{line:46,column:55}},"54":{start:{line:46,column:74},end:{line:46,column:97}},"55":{start:{line:46,column:160},end:{line:46,column:195}},"56":{start:{line:46,column:196},end:{line:46,column:207}},"57":{start:{line:46,column:215},end:{line:46,column:235}},"58":{start:{line:46,column:239},end:{line:46,column:270}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:6,column:97},end:{line:6,column:119}},loc:{start:{line:6,column:125},end:{line:6,column:181}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:15},end:{line:10,column:16}},loc:{start:{line:10,column:27},end:{line:46,column:236}},line:10},"2":{name:"GraphService",decl:{start:{line:15,column:11},end:{line:15,column:23}},loc:{start:{line:15,column:32},end:{line:17,column:3}},line:15},"3":{name:"(anonymous_3)",decl:{start:{line:25,column:70},end:{line:25,column:71}},loc:{start:{line:25,column:82},end:{line:46,column:208}},line:25},"4":{name:"_callee",decl:{start:{line:25,column:176},end:{line:25,column:183}},loc:{start:{line:26,column:31},end:{line:46,column:129}},line:26},"5":{name:"_callee$",decl:{start:{line:26,column:149},end:{line:26,column:157}},loc:{start:{line:26,column:168},end:{line:46,column:100}},line:26},"6":{name:"(anonymous_6)",decl:{start:{line:32,column:42},end:{line:32,column:43}},loc:{start:{line:32,column:58},end:{line:32,column:75}},line:32},"7":{name:"(anonymous_7)",decl:{start:{line:34,column:31},end:{line:34,column:32}},loc:{start:{line:34,column:44},end:{line:34,column:72}},line:34},"8":{name:"(anonymous_8)",decl:{start:{line:36,column:37},end:{line:36,column:38}},loc:{start:{line:36,column:53},end:{line:36,column:102}},line:36},"9":{name:"get",decl:{start:{line:46,column:141},end:{line:46,column:144}},loc:{start:{line:46,column:159},end:{line:46,column:196}},line:46}},branchMap:{"0":{loc:{start:{line:6,column:133},end:{line:6,column:179}},type:"cond-expr",locations:[{start:{line:6,column:157},end:{line:6,column:160}},{start:{line:6,column:163},end:{line:6,column:179}}],line:6},"1":{loc:{start:{line:6,column:133},end:{line:6,column:154}},type:"binary-expr",locations:[{start:{line:6,column:133},end:{line:6,column:136}},{start:{line:6,column:140},end:{line:6,column:154}}],line:6},"2":{loc:{start:{line:26,column:180},end:{line:46,column:98}},type:"switch",locations:[{start:{line:26,column:220},end:{line:40,column:84}},{start:{line:40,column:84},end:{line:43,column:124}},{start:{line:43,column:124},end:{line:46,column:55}},{start:{line:46,column:55},end:{line:46,column:63}},{start:{line:46,column:63},end:{line:46,column:97}}],line:26},"3":{loc:{start:{line:40,column:28},end:{line:40,column:81}},type:"cond-expr",locations:[{start:{line:40,column:48},end:{line:40,column:73}},{start:{line:40,column:76},end:{line:40,column:81}}],line:40}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0,0],"3":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_masqz56nb.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=(cov_masqz56nb.s[1]++,require('babel-runtime/regenerator'));var _regenerator2=(cov_masqz56nb.s[2]++,_interopRequireDefault(_regenerator));var _objectWithoutProperties2=(cov_masqz56nb.s[3]++,require('babel-runtime/helpers/objectWithoutProperties'));var _objectWithoutProperties3=(cov_masqz56nb.s[4]++,_interopRequireDefault(_objectWithoutProperties2));var _slicedToArray2=(cov_masqz56nb.s[5]++,require('babel-runtime/helpers/slicedToArray'));var _slicedToArray3=(cov_masqz56nb.s[6]++,_interopRequireDefault(_slicedToArray2));var _asyncToGenerator2=(cov_masqz56nb.s[7]++,require('babel-runtime/helpers/asyncToGenerator'));var _asyncToGenerator3=(cov_masqz56nb.s[8]++,_interopRequireDefault(_asyncToGenerator2));var _classCallCheck2=(cov_masqz56nb.s[9]++,require('babel-runtime/helpers/classCallCheck'));var _classCallCheck3=(cov_masqz56nb.s[10]++,_interopRequireDefault(_classCallCheck2));var _createClass2=(cov_masqz56nb.s[11]++,require('babel-runtime/helpers/createClass'));var _createClass3=(cov_masqz56nb.s[12]++,_interopRequireDefault(_createClass2));var _fs=(cov_masqz56nb.s[13]++,require('fs'));var _fs2=(cov_masqz56nb.s[14]++,_interopRequireDefault(_fs));var _graph=(cov_masqz56nb.s[15]++,require('../handlers/graph'));var _graph2=(cov_masqz56nb.s[16]++,_interopRequireDefault(_graph));var _ResourceNotFound=(cov_masqz56nb.s[17]++,require('../errors/ResourceNotFound'));var _ResourceNotFound2=(cov_masqz56nb.s[18]++,_interopRequireDefault(_ResourceNotFound));var _joiValidate=(cov_masqz56nb.s[19]++,require('../handlers/joiValidate'));var _joiValidate2=(cov_masqz56nb.s[20]++,_interopRequireDefault(_joiValidate));var _graph3=(cov_masqz56nb.s[21]++,require('../schemas/graph'));var _graph4=(cov_masqz56nb.s[22]++,_interopRequireDefault(_graph3));function _interopRequireDefault(obj){cov_masqz56nb.f[0]++;cov_masqz56nb.s[23]++;return(cov_masqz56nb.b[1][0]++,obj)&&(cov_masqz56nb.b[1][1]++,obj.__esModule)?(cov_masqz56nb.b[0][0]++,obj):(cov_masqz56nb.b[0][1]++,{default:obj});}/**
                                                                                                                                                                                       *
                                                                                                                                                                                       */var GraphService=(cov_masqz56nb.s[24]++,function(){cov_masqz56nb.f[1]++;/**
                               *
                               * @param {*} router
                               */function GraphService(router){cov_masqz56nb.f[2]++;cov_masqz56nb.s[25]++;(0,_classCallCheck3.default)(this,GraphService);cov_masqz56nb.s[26]++;router.get('/graph/:id?',(0,_joiValidate2.default)(_graph4.default.get),this.get);}/**
     * Breadth First Search in Digraph
     * @param {Object} request - HTTP Request
     * @param {Number} request.params.id - Initial node index (0-8)
     * @param {Object} response - HTTP Response
     * @param {Function} next  - Middleware
     */cov_masqz56nb.s[27]++;(0,_createClass3.default)(GraphService,[{key:'get',value:function(){cov_masqz56nb.f[3]++;var _ref=(cov_masqz56nb.s[28]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee(request,response,next){cov_masqz56nb.f[4]++;var graph,object,vertex,mapAdjacent,_vertex,first,_ref2,visitOrder;cov_masqz56nb.s[29]++;return _regenerator2.default.wrap(function _callee$(_context){cov_masqz56nb.f[5]++;cov_masqz56nb.s[30]++;while(1){cov_masqz56nb.s[31]++;switch(_context.prev=_context.next){case 0:cov_masqz56nb.b[2][0]++;cov_masqz56nb.s[32]++;_context.prev=0;cov_masqz56nb.s[33]++;graph=new _graph2.default();cov_masqz56nb.s[34]++;object=_fs2.default.readFileSync('./grafo.json','utf-8');cov_masqz56nb.s[35]++;object=JSON.parse(object);cov_masqz56nb.s[36]++;vertex=object.nodes.map(function(node){cov_masqz56nb.f[6]++;cov_masqz56nb.s[37]++;return node.id;});cov_masqz56nb.s[38]++;vertex.forEach(function(v){cov_masqz56nb.f[7]++;cov_masqz56nb.s[39]++;return graph.addVertex(v);});cov_masqz56nb.s[40]++;object.links.forEach(function(link){cov_masqz56nb.f[8]++;cov_masqz56nb.s[41]++;return graph.addEdge(link.source,link.target);});cov_masqz56nb.s[42]++;mapAdjacent=graph.print();cov_masqz56nb.s[43]++;_vertex=(0,_slicedToArray3.default)(vertex,1),first=_vertex[0];cov_masqz56nb.s[44]++;_context.next=11;cov_masqz56nb.s[45]++;return graph.bfs(request.params.id?(cov_masqz56nb.b[3][0]++,vertex[request.params.id]):(cov_masqz56nb.b[3][1]++,first));case 11:cov_masqz56nb.b[2][1]++;cov_masqz56nb.s[46]++;_ref2=_context.sent;cov_masqz56nb.s[47]++;visitOrder=(0,_objectWithoutProperties3.default)(_ref2,[]);cov_masqz56nb.s[48]++;response.status(200).json({status:'sucesso',data:{visitOrder:visitOrder,mapAdjacent:mapAdjacent}});cov_masqz56nb.s[49]++;_context.next=19;cov_masqz56nb.s[50]++;break;case 16:cov_masqz56nb.b[2][2]++;cov_masqz56nb.s[51]++;_context.prev=16;cov_masqz56nb.s[52]++;_context.t0=_context['catch'](0);cov_masqz56nb.s[53]++;next(new _ResourceNotFound2.default());case 19:cov_masqz56nb.b[2][3]++;case'end':cov_masqz56nb.b[2][4]++;cov_masqz56nb.s[54]++;return _context.stop();}}},_callee,this,[[0,16]]);})));function get(_x,_x2,_x3){cov_masqz56nb.f[9]++;cov_masqz56nb.s[55]++;return _ref.apply(this,arguments);}cov_masqz56nb.s[56]++;return get;}()}]);cov_masqz56nb.s[57]++;return GraphService;}());cov_masqz56nb.s[58]++;exports.default=GraphService;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdyYXBoU2VydmljZS5qcyJdLCJuYW1lcyI6WyJHcmFwaFNlcnZpY2UiLCJyb3V0ZXIiLCJnZXQiLCJncmFwaFNjaGVtYSIsInJlcXVlc3QiLCJyZXNwb25zZSIsIm5leHQiLCJncmFwaCIsIkdyYXBoIiwib2JqZWN0IiwiZnMiLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJ2ZXJ0ZXgiLCJub2RlcyIsIm1hcCIsIm5vZGUiLCJpZCIsImZvckVhY2giLCJhZGRWZXJ0ZXgiLCJ2IiwibGlua3MiLCJsaW5rIiwiYWRkRWRnZSIsInNvdXJjZSIsInRhcmdldCIsIm1hcEFkamFjZW50IiwicHJpbnQiLCJmaXJzdCIsImJmcyIsInBhcmFtcyIsInZpc2l0T3JkZXIiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIlJlc291cmNlTm90Rm91bmQiXSwibWFwcGluZ3MiOiI7QUFDQSx3QjtBQUNBLDBDO0FBQ0EsOEQ7QUFDQSxzRDtBQUNBLDBDO0FBQ0E7OztBQUdxQkEsWTtBQUNuQjs7OztBQUlBLHdCQUFhQyxNQUFiLEVBQXFCO0FBQ25CQSxXQUFPQyxHQUFQLENBQVcsYUFBWCxFQUEwQiwyQkFBWUMsZ0JBQVlELEdBQXhCLENBQTFCLEVBQXdELEtBQUtBLEdBQTdEO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPV0UsYSxFQUFTQyxRLEVBQVVDLEk7O0FBRXRCQyxxQixHQUFRLElBQUlDLGVBQUosRTtBQUNSQyxzQixHQUFTQyxhQUFHQyxZQUFILENBQWdCLGNBQWhCLEVBQWdDLE9BQWhDLEM7QUFDYkYseUJBQVNHLEtBQUtDLEtBQUwsQ0FBV0osTUFBWCxDQUFUOztBQUVJSyxzQixHQUFTTCxPQUFPTSxLQUFQLENBQWFDLEdBQWIsQ0FBaUIsd0JBQVFDLEtBQUtDLEVBQWIsRUFBakIsQzs7QUFFYkosdUJBQU9LLE9BQVAsQ0FBZSxxQkFBS1osTUFBTWEsU0FBTixDQUFnQkMsQ0FBaEIsQ0FBTCxFQUFmOztBQUVBWix1QkFBT2EsS0FBUCxDQUFhSCxPQUFiLENBQXFCLFVBQUNJLElBQUQsVUFBVWhCLE1BQU1pQixPQUFOLENBQWNELEtBQUtFLE1BQW5CLEVBQTJCRixLQUFLRyxNQUFoQyxDQUFWLEVBQXJCOztBQUVNQywyQixHQUFjcEIsTUFBTXFCLEtBQU4sRTtBQUNKZCxzQixNQUFUZSxLO0FBQ3lCdEIsd0JBQU11QixHQUFOLENBQVUxQixRQUFRMkIsTUFBUixDQUFlYixFQUFmLEdBQW9CSixPQUFPVixRQUFRMkIsTUFBUixDQUFlYixFQUF0QixDQUFwQixHQUFnRFcsS0FBMUQsQyxnQ0FBckJHLFU7O0FBRVgzQix5QkFBUzRCLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO0FBQ3hCRCwwQkFBUSxTQURnQixFQUNMRSxNQUFNLEVBQUVILHNCQUFGLEVBQWNMLHdCQUFkLEVBREQsRUFBMUIsRTs7O0FBSUFyQixxQkFBSyxJQUFJOEIsMEJBQUosRUFBTCxFLDBNQXBDZXBDLFkiLCJmaWxlIjoiR3JhcGhTZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RoYWlzL0RvY3VtZW50b3MvZ3JhcGgtYmZzL3NyYy9zZXJ2aWNlcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IEdyYXBoIGZyb20gJy4uL2hhbmRsZXJzL2dyYXBoJ1xuaW1wb3J0IFJlc291cmNlTm90Rm91bmQgZnJvbSAnLi4vZXJyb3JzL1Jlc291cmNlTm90Rm91bmQnXG5pbXBvcnQgSm9pVmFsaWRhdGUgZnJvbSAnLi4vaGFuZGxlcnMvam9pVmFsaWRhdGUnXG5pbXBvcnQgZ3JhcGhTY2hlbWEgZnJvbSAnLi4vc2NoZW1hcy9ncmFwaCdcbi8qKlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JhcGhTZXJ2aWNlIHtcbiAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHJvdXRlclxuICAgICAqL1xuICBjb25zdHJ1Y3RvciAocm91dGVyKSB7XG4gICAgcm91dGVyLmdldCgnL2dyYXBoLzppZD8nLCBKb2lWYWxpZGF0ZShncmFwaFNjaGVtYS5nZXQpLCB0aGlzLmdldClcbiAgfVxuXG4gIC8qKlxuICAgKiBCcmVhZHRoIEZpcnN0IFNlYXJjaCBpbiBEaWdyYXBoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0IC0gSFRUUCBSZXF1ZXN0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSByZXF1ZXN0LnBhcmFtcy5pZCAtIEluaXRpYWwgbm9kZSBpbmRleCAoMC04KVxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgLSBIVFRQIFJlc3BvbnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHQgIC0gTWlkZGxld2FyZVxuICAgKi9cbiAgYXN5bmMgZ2V0IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgZ3JhcGggPSBuZXcgR3JhcGgoKVxuICAgICAgbGV0IG9iamVjdCA9IGZzLnJlYWRGaWxlU3luYygnLi9ncmFmby5qc29uJywgJ3V0Zi04JylcbiAgICAgIG9iamVjdCA9IEpTT04ucGFyc2Uob2JqZWN0KVxuXG4gICAgICBsZXQgdmVydGV4ID0gb2JqZWN0Lm5vZGVzLm1hcChub2RlID0+IG5vZGUuaWQpXG5cbiAgICAgIHZlcnRleC5mb3JFYWNoKHYgPT4gZ3JhcGguYWRkVmVydGV4KHYpKVxuXG4gICAgICBvYmplY3QubGlua3MuZm9yRWFjaCgobGluaykgPT4gZ3JhcGguYWRkRWRnZShsaW5rLnNvdXJjZSwgbGluay50YXJnZXQpKVxuXG4gICAgICBjb25zdCBtYXBBZGphY2VudCA9IGdyYXBoLnByaW50KClcbiAgICAgIGNvbnN0IFtmaXJzdF0gPSB2ZXJ0ZXhcbiAgICAgIGNvbnN0IHsgLi4udmlzaXRPcmRlciB9ID0gYXdhaXQgZ3JhcGguYmZzKHJlcXVlc3QucGFyYW1zLmlkID8gdmVydGV4W3JlcXVlc3QucGFyYW1zLmlkXSA6IGZpcnN0KVxuXG4gICAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjZXNzbycsIGRhdGE6IHsgdmlzaXRPcmRlciwgbWFwQWRqYWNlbnQgfVxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV4dChuZXcgUmVzb3VyY2VOb3RGb3VuZCgpKVxuICAgIH1cbiAgfVxufVxuIl19